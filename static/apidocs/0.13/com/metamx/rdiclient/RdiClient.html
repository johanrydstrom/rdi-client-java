<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_80) on Wed Aug 17 21:36:53 UTC 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>RdiClient (rdi-client 0.13 API)</title>
<meta name="date" content="2016-08-17">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="RdiClient (rdi-client 0.13 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RdiClient.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/metamx/rdiclient/PassthroughSerializer.html" title="class in com.metamx.rdiclient"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/metamx/rdiclient/RdiClientConfig.html" title="class in com.metamx.rdiclient"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/metamx/rdiclient/RdiClient.html" target="_top">Frames</a></li>
<li><a href="RdiClient.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.metamx.rdiclient</div>
<h2 title="Interface RdiClient" class="title">Interface RdiClient&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl><dt><span class="strong">Type Parameters:</span></dt><dd><code>T</code> - generic event type</dd></dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../com/metamx/rdiclient/RdiClientImpl.html" title="class in com.metamx.rdiclient">RdiClientImpl</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">RdiClient&lt;T&gt;</span></pre>
<div class="block">Interface for creating a client to post data to Metamarkets real-time data ingestion API.
 <p/>
 Pass events to the client by calling "send".  Messages will be batched and posted by the client.  Passing events using
 "send" will post a new batch periodically when the events being buffered reach the max batch event count (flushCount)
 or the max batch size in bytes (flushBytes).
 <p/>
 Calling "flush" will also force all pending events to be batched and sent.
 <p/>
 The client handles retries for you using an exponential backoff strategy for exceptions on posting data, such as
 network issues or invalid Http response codes.  The number of retries may be configured in the RdiClientConfig.
 <p/>
 The client is thread-safe. For best performance you should generally share a single instance across all threads.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/metamx/rdiclient/RdiClient.html#close()">close</a></strong>()</code>
<div class="block">Signal that event transmission is complete.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/metamx/rdiclient/RdiClient.html#flush()">flush</a></strong>()</code>
<div class="block">Calling "flush" will force all pending events to be batched and sent to the server immediately.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/metamx/rdiclient/metrics/RdiMetrics.html" title="class in com.metamx.rdiclient.metrics">RdiMetrics</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/metamx/rdiclient/RdiClient.html#getMetrics()">getMetrics</a></strong>()</code>
<div class="block">Return a metrics object that you can use to check on the progress of the RdiClient.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>com.google.common.util.concurrent.ListenableFuture&lt;<a href="../../../com/metamx/rdiclient/RdiResponse.html" title="class in com.metamx.rdiclient">RdiResponse</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/metamx/rdiclient/RdiClient.html#send(java.lang.String,%20T)">send</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;feed,
    <a href="../../../com/metamx/rdiclient/RdiClient.html" title="type parameter in RdiClient">T</a>&nbsp;message)</code>
<div class="block">Send messages to the server.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/metamx/rdiclient/RdiClient.html#start()">start</a></strong>()</code>
<div class="block">Initialize the RdiClient.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="start()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>void&nbsp;start()</pre>
<div class="block">Initialize the RdiClient. Must be called before calling send() or flush().</div>
</li>
</ul>
<a name="getMetrics()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetrics</h4>
<pre><a href="../../../com/metamx/rdiclient/metrics/RdiMetrics.html" title="class in com.metamx.rdiclient.metrics">RdiMetrics</a>&nbsp;getMetrics()</pre>
<div class="block">Return a metrics object that you can use to check on the progress of the RdiClient.</div>
</li>
</ul>
<a name="send(java.lang.String,java.lang.Object)">
<!--   -->
</a><a name="send(java.lang.String, T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>send</h4>
<pre>com.google.common.util.concurrent.ListenableFuture&lt;<a href="../../../com/metamx/rdiclient/RdiResponse.html" title="class in com.metamx.rdiclient">RdiResponse</a>&gt;&nbsp;send(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;feed,
                                                                   <a href="../../../com/metamx/rdiclient/RdiClient.html" title="type parameter in RdiClient">T</a>&nbsp;message)
                                                                     throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Send messages to the server. "Send" will queue events up and then POST a new batch periodically when the events
 being buffered reach the max batch event count (flushCount) or the max batch size in bytes (flushBytes). "send" is
 generally asynchronous, but if the maximum batch size is reached and no connections to the server are available,
 the method will block until a connection is available.
 <p />
 This method will immediately throw an exception if your messages fail to serialize, or if your message's
 serialized size is too large. The returned future may resolve into an exception if there are connection/network
 issues, or the client is unable to POST to the server (e.g. if your rate limit is exceeded or your credentials
 are incorrect).
 <p />
 You can attach callbacks to the futures returned by "send", but keep in mind that unless you provide your own
 Executor, the callbacks will occur in I/O threads and you must make sure they execute quickly and do not block.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>feed</code> - name of the feed to which you want to send this message.</dd><dd><code>message</code> - event message of generic type to be posted via the client.</dd>
<dt><span class="strong">Returns:</span></dt><dd>future representing the post result for this message.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if your message fails to serialize, or if its size is too large.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if sending needs to block, and is interrupted while doing so.</dd></dl>
</li>
</ul>
<a name="flush()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flush</h4>
<pre>void&nbsp;flush()
           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Calling "flush" will force all pending events to be batched and sent to the server immediately. This method may
 return before all events have actually been received by the server. You must inspect the futures returned by
 "send" to verify success.
 <p />
 If no connections to the server are available, this method will block until a connection is available.
 <p />
 NOTE: You can use "flush" periodically if you want to implement "checkpoint"-oriented logic.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if flushing is interrupted.</dd></dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>close</h4>
<pre>void&nbsp;close()</pre>
<div class="block">Signal that event transmission is complete. Close the client.
 </p>
 Calling close will not call flush, so that should be done manually before calling close. If you want to make sure
 that all your messages have been sent, you must wait for them to be acknowledged (i.e., the Futures resolve) before
 closing the client.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RdiClient.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/metamx/rdiclient/PassthroughSerializer.html" title="class in com.metamx.rdiclient"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/metamx/rdiclient/RdiClientConfig.html" title="class in com.metamx.rdiclient"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/metamx/rdiclient/RdiClient.html" target="_top">Frames</a></li>
<li><a href="RdiClient.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2016. All rights reserved.</small></p>
</body>
</html>
